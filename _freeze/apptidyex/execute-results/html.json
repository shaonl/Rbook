{
  "hash": "620fae098309e4e2d366b9434c44d93c",
  "result": {
    "markdown": "# Answers for @sec-tidyex {#sec-appendixtidyexp}\n\nThe following are answers to the exercises in @sec-tidyex.\n\n1.  Load the `tidyverse` package. Then assign the built-in dataframe `starwars` to an object named whatever you want. Then subset the dataframe by human species only. Save the subsetted dataframe as an object called `swhuman`. Then calculate and report the mean and median height in `swhuman`. Also report an NAs (missing data) in the height variable. *Note: the units for the height variable are centimeters.*\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nstardf <- starwars\n\nswhuman <- stardf %>%\n  filter(species == \"Human\")\n\nswhuman %>%\n  select(height) %>%\n  summary()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     height     \n Min.   :150.0  \n 1st Qu.:168.5  \n Median :180.0  \n Mean   :176.6  \n 3rd Qu.:184.0  \n Max.   :202.0  \n NA's   :4      \n```\n:::\n\n```{.r .cell-code}\n# The mean height is 176.6 centimeters, and the median height is 180 centimeters.There are 4 NAs.\n```\n:::\n\n\n2.  Hopefully you noticed that there are indeed some NAs in the `swhuman` dataframe! Detect which rows have NAs for the height variable, and write the names of the characters that have this. Next, let's fix these errors. Perform an internet search and populate those NAs with plausible values. If you need to convert from feet to centimeters, multiply the value in feet by 30.48. If you absolutely cannot find the height of any character substitute the median height from Question 1 for their height.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Which rows have NA for the height variable?\n\nwhich(is.na(swhuman$height))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 18 32 33 34\n```\n:::\n\n```{.r .cell-code}\nswhuman %>%\n  slice(18,\n        32,\n        33,\n        34) %>%\n  print()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 4 × 14\n  name      height  mass hair_color skin_color eye_color birth_year sex   gender\n  <chr>      <int> <dbl> <chr>      <chr>      <chr>          <dbl> <chr> <chr> \n1 Arvel Cr…     NA    NA brown      fair       brown             NA male  mascu…\n2 Finn          NA    NA black      dark       dark              NA male  mascu…\n3 Rey           NA    NA brown      light      hazel             NA fema… femin…\n4 Poe Dame…     NA    NA brown      light      brown             NA male  mascu…\n# ℹ 5 more variables: homeworld <chr>, species <chr>, films <list>,\n#   vehicles <list>, starships <list>\n```\n:::\n\n```{.r .cell-code}\n## It looks like Arvel Crynyd, Finn, Rey, and Poe Dameron all have NA values for height. From a quick Google search, I found heights of Finn, Rey, and Poe Dameron but not for Arvel Crynyd. Thus, I will enter a value of 180 (median from Question 1) for Arvel Crynyd. For Finn, Rey, and Poe Dameron, I will enter 176.8, 170.7, and 172, respectively. \n\nswhuman$height[18] <- 180\n\nswhuman$height[32:34] <- c(176.8, 170.7, 172)\n```\n:::\n\n\n3.  Once you have filled in this missing data, calculate the new mean and median for the height variable. Comment on how much of a difference the additional values made on the mean and median compared with the values you calculated in Question 1. Then determine the three shortest characters, and three tallest characters.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(swhuman$height)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  150.0   170.0   178.0   176.4   183.0   202.0 \n```\n:::\n\n```{.r .cell-code}\n# The new mean is 176.4. This is 0.2 centimeters less than the mean from Question 1.\n# The new median is 178. This is 2 centimeters less than the median from Question 1.\n\n# Next, let's print the three shortest and three tallest characters.\n\nswhuman %>%\n  slice_min(height, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 14\n  name      height  mass hair_color skin_color eye_color birth_year sex   gender\n  <chr>      <dbl> <dbl> <chr>      <chr>      <chr>          <dbl> <chr> <chr> \n1 Leia Org…    150    49 brown      light      brown             19 fema… femin…\n2 Mon Moth…    150    NA auburn     fair       blue              48 fema… femin…\n3 Cordé        157    NA brown      light      brown             NA fema… femin…\n# ℹ 5 more variables: homeworld <chr>, species <chr>, films <list>,\n#   vehicles <list>, starships <list>\n```\n:::\n\n```{.r .cell-code}\nswhuman %>%\n  slice_max(height, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 14\n  name      height  mass hair_color skin_color eye_color birth_year sex   gender\n  <chr>      <dbl> <dbl> <chr>      <chr>      <chr>          <dbl> <chr> <chr> \n1 Darth Va…    202   136 none       white      yellow          41.9 male  mascu…\n2 Qui-Gon …    193    89 brown      fair       blue            92   male  mascu…\n3 Dooku        193    80 white      fair       brown          102   male  mascu…\n# ℹ 5 more variables: homeworld <chr>, species <chr>, films <list>,\n#   vehicles <list>, starships <list>\n```\n:::\n\n```{.r .cell-code}\n## The three shortest characters are Leia Organa, Mon Mothma, and Cordé.\n## The three tallest characters are Darth Vader, Qui-Gon Jinn, and Dooku.\n```\n:::\n\n\n4.  Return to the larger `starwars` dataframe or whatever object to which you assigned it. Determine which characters have NA for height. If there are any characters with NA for height (hint: there are), enter plausible values for their heights using the approach taken in Question 2. Then report the mean and median height across everyone in this dataframe.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Both approaches tell you the rows with NA in height. Use the approach you like.\n\nwhich(is.na(stardf$height))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 28 82 83 84 85 86\n```\n:::\n\n```{.r .cell-code}\nstardf$height %>%\n  is.na() %>%\n  which()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 28 82 83 84 85 86\n```\n:::\n\n```{.r .cell-code}\n# Determine which characters have NA for height.\n\nstardf %>%\n  slice(28,\n        82:86) %>%\n  print()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 14\n  name      height  mass hair_color skin_color eye_color birth_year sex   gender\n  <chr>      <int> <dbl> <chr>      <chr>      <chr>          <dbl> <chr> <chr> \n1 Arvel Cr…     NA    NA brown      fair       brown             NA male  mascu…\n2 Finn          NA    NA black      dark       dark              NA male  mascu…\n3 Rey           NA    NA brown      light      hazel             NA fema… femin…\n4 Poe Dame…     NA    NA brown      light      brown             NA male  mascu…\n5 BB8           NA    NA none       none       black             NA none  mascu…\n6 Captain …     NA    NA unknown    unknown    unknown           NA <NA>  <NA>  \n# ℹ 5 more variables: homeworld <chr>, species <chr>, films <list>,\n#   vehicles <list>, starships <list>\n```\n:::\n\n```{.r .cell-code}\n# I already have heights for the first four. BB8's height is 67.1, and Captain Phasma's height is 200.1.\n\nstardf$height[28] <- 180\n\nstardf$height[82:86] <- c(176.8, 170.7, 172, 67.1, 200.1)\n\n# Now calculate mean and median height.\n\nsummary(stardf$height)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   66.0   167.0   180.0   173.4   191.0   264.0 \n```\n:::\n\n```{.r .cell-code}\n## The mean height is 173.4 cm and the median height is 180 cm.\n```\n:::\n\n\n5.  Still working with the `starwars` dataframe, convert the `species` variable to factor. Then, group and summarise the mean height by species, and print this in descending order. Report which species is the tallest, on average. Then, rearrange and report the species which is the shortest, on average.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Convert species to factor\n\nstardf$species <- as.factor(stardf$species)\n\n# Which is the tallest species, on average?\n\nstardf %>%\n  group_by(species) %>%\n  summarise(mean_height = mean(height)) %>%\n  arrange(desc(mean_height))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 38 × 2\n   species  mean_height\n   <fct>          <dbl>\n 1 Quermian        264 \n 2 Wookiee         231 \n 3 Kaminoan        221 \n 4 Kaleesh         216 \n 5 Gungan          209.\n 6 Pau'an          206 \n 7 Besalisk        198 \n 8 Cerean          198 \n 9 Chagrian        196 \n10 Nautolan        196 \n# ℹ 28 more rows\n```\n:::\n\n```{.r .cell-code}\n## The Quermian species is the tallest on average.\n\n# Which is the shortest species on average?\n\nstardf %>%\n  group_by(species) %>%\n  summarise(mean_height = mean(height)) %>%\n  arrange(mean_height)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 38 × 2\n   species        mean_height\n   <fct>                <dbl>\n 1 Yoda's species         66 \n 2 Aleena                 79 \n 3 Ewok                   88 \n 4 Vulptereen             94 \n 5 Dug                   112 \n 6 Droid                 121.\n 7 Xexto                 122 \n 8 Toydarian             137 \n 9 Sullustan             160 \n10 Toong                 163 \n# ℹ 28 more rows\n```\n:::\n\n```{.r .cell-code}\n## Yoda's species is the shortest on average.\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}